[0m[[0minfo[0m] [0mRunning sample.cluster.allreduce.AllreduceWorker 2554[0m
[0m[[0minfo[0m] [0m[INFO] [11/10/2017 21:46:33.837] [main] [akka.remote.Remoting] Starting remoting[0m
[0m[[0minfo[0m] [0m[INFO] [11/10/2017 21:46:33.997] [main] [akka.remote.Remoting] Remoting started; listening on addresses :[akka.tcp://ClusterSystem@127.0.0.1:2554][0m
[0m[[0minfo[0m] [0m[INFO] [11/10/2017 21:46:34.008] [main] [akka.cluster.Cluster(akka://ClusterSystem)] Cluster Node [akka.tcp://ClusterSystem@127.0.0.1:2554] - Starting up...[0m
[0m[[0minfo[0m] [0m[INFO] [11/10/2017 21:46:34.121] [main] [akka.cluster.Cluster(akka://ClusterSystem)] Cluster Node [akka.tcp://ClusterSystem@127.0.0.1:2554] - Registered cluster JMX MBean [akka:type=Cluster][0m
[0m[[0minfo[0m] [0m[INFO] [11/10/2017 21:46:34.121] [main] [akka.cluster.Cluster(akka://ClusterSystem)] Cluster Node [akka.tcp://ClusterSystem@127.0.0.1:2554] - Started up successfully[0m
[0m[[0minfo[0m] [0m[WARN] [11/10/2017 21:46:34.146] [ClusterSystem-akka.actor.default-dispatcher-4] [akka.tcp://ClusterSystem@127.0.0.1:2554/system/cluster/core/daemon/downingProvider] Don't use auto-down feature of Akka Cluster in production. See 'Auto-downing (DO NOT USE)' section of Akka Cluster documentation.[0m
[0m[[0minfo[0m] [0m[WARN] [11/10/2017 21:46:34.316] [New I/O boss #3] [NettyTransport(akka://ClusterSystem)] Remote connection to [null] failed with java.net.ConnectException: Connection refused: /127.0.0.1:2552[0m
[0m[[0minfo[0m] [0m[WARN] [11/10/2017 21:46:34.322] [ClusterSystem-akka.remote.default-remote-dispatcher-6] [akka.tcp://ClusterSystem@127.0.0.1:2554/system/endpointManager/reliableEndpointWriter-akka.tcp%3A%2F%2FClusterSystem%40127.0.0.1%3A2552-1] Association with remote system [akka.tcp://ClusterSystem@127.0.0.1:2552] has failed, address is now gated for [5000] ms. Reason: [Association failed with [akka.tcp://ClusterSystem@127.0.0.1:2552]] Caused by: [Connection refused: /127.0.0.1:2552][0m
[0m[[0minfo[0m] [0m[INFO] [11/10/2017 21:46:34.326] [ClusterSystem-akka.actor.default-dispatcher-17] [akka://ClusterSystem/deadLetters] Message [akka.cluster.InternalClusterAction$InitJoin$] from Actor[akka://ClusterSystem/system/cluster/core/daemon/joinSeedNodeProcess-1#-1743003677] to Actor[akka://ClusterSystem/deadLetters] was not delivered. [1] dead letters encountered. This logging can be turned off or adjusted with configuration settings 'akka.log-dead-letters' and 'akka.log-dead-letters-during-shutdown'.[0m
[0m[[0minfo[0m] [0m[INFO] [11/10/2017 21:46:34.709] [ClusterSystem-akka.actor.default-dispatcher-18] [akka.cluster.Cluster(akka://ClusterSystem)] Cluster Node [akka.tcp://ClusterSystem@127.0.0.1:2554] - Metrics collection has started successfully[0m
[0m[[0minfo[0m] [0m[INFO] [11/10/2017 21:46:39.297] [ClusterSystem-akka.actor.default-dispatcher-18] [akka://ClusterSystem/deadLetters] Message [akka.cluster.InternalClusterAction$InitJoin$] from Actor[akka://ClusterSystem/system/cluster/core/daemon/joinSeedNodeProcess-1#-1743003677] to Actor[akka://ClusterSystem/deadLetters] was not delivered. [2] dead letters encountered. This logging can be turned off or adjusted with configuration settings 'akka.log-dead-letters' and 'akka.log-dead-letters-during-shutdown'.[0m
[0m[[0minfo[0m] [0m[INFO] [11/10/2017 21:46:39.331] [ClusterSystem-akka.actor.default-dispatcher-18] [akka.cluster.Cluster(akka://ClusterSystem)] Cluster Node [akka.tcp://ClusterSystem@127.0.0.1:2554] - Welcome from [akka.tcp://ClusterSystem@127.0.0.1:2551][0m[0m[[0minfo[0m] [0m----myId = 1[0m
[0m[[0minfo[0m] [0mscatteredData.length = 0[0m
[0m[[0minfo[0m] [0m[ERROR] [11/10/2017 21:46:39.717] [ClusterSystem-akka.actor.default-dispatcher-22] [akka://ClusterSystem/user/worker] 0[0m
[0m[[0minfo[0m] [0mjava.lang.ArrayIndexOutOfBoundsException: 0[0m
[0m[[0minfo[0m] [0m	at sample.cluster.allreduce.AllreduceWorker$$anonfun$receive$1.applyOrElse(AllreduceWorker.scala:36)[0m
[0m[[0minfo[0m] [0m	at akka.actor.Actor.aroundReceive(Actor.scala:514)[0m
[0m[[0minfo[0m] [0m	at akka.actor.Actor.aroundReceive$(Actor.scala:512)[0m
[0m[[0minfo[0m] [0m	at sample.cluster.allreduce.AllreduceWorker.aroundReceive(AllreduceWorker.scala:12)[0m
[0m[[0minfo[0m] [0m	at akka.actor.ActorCell.receiveMessage(ActorCell.scala:527)[0m
[0m[[0minfo[0m] [0m	at akka.actor.ActorCell.invoke(ActorCell.scala:496)[0m
[0m[[0minfo[0m] [0m	at akka.dispatch.Mailbox.processMailbox(Mailbox.scala:257)[0m
[0m[[0minfo[0m] [0m	at akka.dispatch.Mailbox.run(Mailbox.scala:224)[0m
[0m[[0minfo[0m] [0m	at akka.dispatch.Mailbox.exec(Mailbox.scala:234)[0m
[0m[[0minfo[0m] [0m	at akka.dispatch.forkjoin.ForkJoinTask.doExec(ForkJoinTask.java:260)[0m
[0m[[0minfo[0m] [0m	at akka.dispatch.forkjoin.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1339)[0m
[0m[[0minfo[0m] [0m	at akka.dispatch.forkjoin.ForkJoinPool.runWorker(ForkJoinPool.java:1979)[0m
[0m[[0minfo[0m] [0m	at akka.dispatch.forkjoin.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:107)[0m
[0m[[0minfo[0m] [0m[0m[0m[[0minfo[0m] [0m[INFO] [11/10/2017 21:47:30.166] [ClusterSystem-akka.actor.default-dispatcher-17] [akka.cluster.Cluster(akka://ClusterSystem)] Cluster Node [akka.tcp://ClusterSystem@127.0.0.1:2553] - Exiting confirmed [akka.tcp://ClusterSystem@127.0.0.1:2554][0m
[0m[[0minfo[0m] [0m[INFO] [11/10/2017 21:47:30.212] [ClusterSystem-akka.actor.default-dispatcher-16] [akka://ClusterSystem/deadLetters] Message [akka.cluster.ClusterHeartbeatSender$Heartbeat] from Actor[akka://ClusterSystem/system/cluster/core/daemon/heartbeatSender#1499145907] to Actor[akka://ClusterSystem/deadLetters] was not delivered. [3] dead letters encountered. This logging can be turned off or adjusted with configuration settings 'akka.log-dead-letters' and 'akka.log-dead-letters-during-shutdown'.[0m
[0m[[0minfo[0m] [0m[INFO] [11/10/2017 21:47:31.023] [Thread-1] [CoordinatedShutdown(akka://ClusterSystem)] Starting coordinated shutdown from JVM shutdown hook[0m
[0m[[0minfo[0m] [0m[INFO] [11/10/2017 21:47:31.035] [ClusterSystem-akka.actor.default-dispatcher-19] [akka.cluster.Cluster(akka://ClusterSystem)] Cluster Node [akka.tcp://ClusterSystem@127.0.0.1:2553] - Marked address [akka.tcp://ClusterSystem@127.0.0.1:2553] as [Leaving][0m
n/joinSeedNodeProcess-1#-1743003677]], but this node is not initialized yet[0m
[0m[[0minfo[0m] [0m[INFO] [11/10/2017 21:46:34.633] [ClusterSystem-akka.actor.default-dispatcher-15] [akka.cluster.Cluster(akka://ClusterSystem)] Cluster Node [akka.tcp://ClusterSystem@127.0.0.1:2551] - Node [akka.tcp://ClusterSystem@127.0.0.1:2551] is JOINING, roles [master][0m
[0m[[0minfo[0m] [0m[INFO] [11/10/2017 21:46:34.643] [ClusterSystem-akka.actor.default-dispatcher-15] [akka.cluster.Cluster(akka://ClusterSystem)] Cluster Node [akka.tcp://ClusterSystem@127.0.0.1:2551] - Leader is moving node [akka.tcp://ClusterSystem@127.0.0.1:2551] to [Up][0m
[0m[[0minfo[0m] [0m----detect member akka.tcp://ClusterSystem@127.0.0.1:2551 up[0m
[0m[[0minfo[0m] [0m[INFO] [11/10/2017 21:46:35.749] [ClusterSystem-akka.actor.default-dispatcher-17] [akka.cluster.Cluster(akka://ClusterSystem)] Cluster Node [akka.tcp://ClusterSystem@127.0.0.1:2551] - Received InitJoin message from [Actor[akka.tcp://ClusterSystem@127.0.0.1:2553/system/cluster/core/daemon/joinSeedNodeProcess-1#-1988301856]] to [akka.tcp://ClusterSystem@127.0.0.1:2551][0m
[0m[[0minfo[0m] [0m[INFO] [11/10/2017 21:46:35.750] [ClusterSystem-akka.actor.default-dispatcher-17] [akka.cluster.Cluster(akka://ClusterSystem)] Cluster Node [akka.tcp://ClusterSystem@127.0.0.1:2551] - Sending InitJoinAck message from node [akka.tcp://ClusterSystem@127.0.0.1:2551] to [Actor[akka.tcp://ClusterSystem@127.0.0.1:2553/system/cluster/core/daemon/joinSeedNodeProcess-1#-1988301856]][0m
[0m[[0minfo[0m] [0m[INFO] [11/10/2017 21:46:35.773] [ClusterSystem-akka.actor.default-dispatcher-18] [akka.cluster.Cluster(akka://ClusterSystem)] Cluster Node [akka.tcp://ClusterSystem@127.0.0.1:2551] - Node [akka.tcp://ClusterSystem@127.0.0.1:2553] is JOINING, roles [worker][0m
[0m[[0minfo[0m] [0m[INFO] [11/10/2017 21:46:36.602] [ClusterSystem-akka.actor.default-dispatcher-16] [akka.cluster.Cluster(akka://ClusterSystem)] Cluster Node [akka.tcp://ClusterSystem@127.0.0.1:2551] - Leader is moving node [akka.tcp://ClusterSystem@127.0.0.1:2553] to [Up][0m
[0m[[0minfo[0m] [0m----detect member akka.tcp://ClusterSystem@127.0.0.1:2553 up[0m
[0m[[0minfo[0m] [0m----current size = 1[0m
[0m[[0minfo[0m] [0m[INFO] [11/10/2017 21:46:39.298] [ClusterSystem-akka.actor.default-dispatcher-21] [akka.cluster.Cluster(akka://ClusterSystem)] Cluster Node [akka.tcp://ClusterSystem@127.0.0.1:2551] - Received InitJoin message from [Actor[akka.tcp://ClusterSystem@127.0.0.1:2554/system/cluster/core/daemon/joinSeedNodeProcess-1#-1743003677]] to [akka.tcp://ClusterSystem@127.0.0.1:2551][0m
[0m[[0minfo[0m] [0m[INFO] [11/10/2017 21:46:39.298] [ClusterSystem-akka.actor.default-dispatcher-21] [akka.cluster.Cluster(akka://ClusterSystem)] Cluster Node [akka.tcp://ClusterSystem@127.0.0.1:2551] - Sending InitJoinAck message from node [akka.tcp://ClusterSystem@127.0.0.1:2551] to [Actor[akka.tcp://ClusterSystem@127.0.0.1:2554/system/cluster/core/daemon/joinSeedNodeProcess-1#-1743003677]][0m
[0m[[0minfo[0m] [0m[INFO] [11/10/2017 21:46:39.314] [ClusterSystem-akka.actor.default-dispatcher-3] [akka.cluster.Cluster(akka://ClusterSystem)] Cluster Node [akka.tcp://ClusterSystem@127.0.0.1:2551] - Node [akka.tcp://ClusterSystem@127.0.0.1:2554] is JOINING, roles [worker][0m
[0m[[0minfo[0m] [0m[INFO] [11/10/2017 21:46:39.603] [ClusterSystem-akka.actor.default-dispatcher-21] [akka.cluster.Cluster(akka://ClusterSystem)] Cluster Node [akka.tcp://ClusterSystem@127.0.0.1:2551] - Leader is moving node [akka.tcp://ClusterSystem@127.0.0.1:2554] to [Up][0m
[0m[[0minfo[0m] [0m----detect member akka.tcp://ClusterSystem@127.0.0.1:2554 up[0m
[0m[[0minfo[0m] [0m----current size = 2[0m
[0m[[0minfo[0m] [0m----all workers are up, init workers, then start allreduce[0m
[0m[[0minfo[0m] [0m[WARN] [SECURITY][11/10/2017 21:46:39.622] [ClusterSystem-akka.remote.default-remote-dispatcher-19] [akka.serialization.Serialization(akka://ClusterSystem)] Using the default Java serializer for class [sample.cluster.allreduce.Neighbors] which is not recommended because of performance implications. Use another serializer or disable this warning using the setting 'akka.actor.warn-about-java-serializer-usage'[0m
[0m[[0minfo[0m] [0m[WARN] [SECURITY][11/10/2017 21:46:39.667] [ClusterSystem-akka.remote.default-remote-dispatcher-19] [akka.serialization.Serialization(akka://ClusterSystem)] Using the default Java serializer for class [sample.cluster.allreduce.StartAllreduce] which is not recommended because of performance implications. Use another serializer or disable this warning using the setting 'akka.actor.warn-about-java-serializer-usage'[0m
[0m[[0minfo[0m] [0m[INFO] [11/10/2017 21:47:29.603] [ClusterSystem-akka.actor.default-dispatcher-15] [akka.cluster.Cluster(akka://ClusterSystem)] Cluster Node [akka.tcp://ClusterSystem@127.0.0.1:2551] - Leader is moving node [akka.tcp://ClusterSystem@127.0.0.1:2554] to [Exiting][0m
[0m[[0minfo[0m] [0m[INFO] [11/10/2017 21:47:30.166] [ClusterSystem-akka.actor.default-dispatcher-3] [akka.cluster.Cluster(akka://ClusterSystem)] Cluster Node [akka.tcp://ClusterSystem@127.0.0.1:2551] - Exiting confirmed [akka.tcp://ClusterSystem@127.0.0.1:2554][0m
[0m[[0minfo[0m] [0mActor[akka.tcp://ClusterSystem@127.0.0.1:2554/user/worker#-1412207520] is terminated, removing it from the set[0m
[0m[[0minfo[0m] [0m[INFO] [11/10/2017 21:47:30.605] [ClusterSystem-akka.actor.default-dispatcher-17] [akka.cluster.Cluster(akka://ClusterSystem)] Cluster Node [akka.tcp://ClusterSystem@127.0.0.1:2551] - Leader is removing confirmed Exiting node [akka.tcp://ClusterSystem@127.0.0.1:2554][0m
[0m[[0minfo[0m] [0m[INFO] [11/10/2017 21:47:31.603] [ClusterSystem-akka.actor.default-dispatcher-18] [akka.cluster.Cluster(akka://ClusterSystem)] Cluster Node [akka.tcp://ClusterSystem@127.0.0.1:2551] - Leader is moving node [akka.tcp://ClusterSystem@127.0.0.1:2553] to [Exiting][0m
[0m[[0minfo[0m] [0m[INFO] [11/10/2017 21:47:31.611] [ClusterSystem-akka.actor.default-dispatcher-3] [akka.cluster.Cluster(akka://ClusterSystem)] Cluster Node [akka.tcp://ClusterSystem@127.0.0.1:2551] - Exiting confirmed [akka.tcp://ClusterSystem@127.0.0.1:2553][0m
[0m[[0minfo[0m] [0m[WARN] [11/10/2017 21:47:31.622] [New I/O worker #4] [NettyTransport(akka://ClusterSystem)] Remote connection to [/127.0.0.1:56285] failed with java.io.IOException: Connection reset by peer[0m
[0m[[0minfo[0m] [0m[INFO] [11/10/2017 21:47:31.654] [ClusterSystem-akka.actor.default-dispatcher-20] [akka://ClusterSystem/deadLetters] Message [akka.cluster.ClusterHeartbeatSender$Heartbeat] from Actor[akka://ClusterSystem/system/cluster/core/daemon/heartbeatSender#-491771286] to Actor[akka://ClusterSystem/deadLetters] was not delivered. [7] dead letters encountered. This logging can be turned off or adjusted with configuration settings 'akka.log-dead-letters' and 'akka.log-dead-letters-during-shutdown'.[0m
[0m[[0minfo[0m] [0m[INFO] [11/10/2017 21:47:32.239] [Thread-1] [CoordinatedShutdown(akka://ClusterSystem)] Starting coordinated shutdown from JVM shutdown hook[0m
[0m[[0minfo[0m] [0m[INFO] [11/10/2017 21:47:32.248] [ClusterSystem-akka.actor.default-dispatcher-15] [akka.cluster.Cluster(akka://ClusterSystem)] Cluster Node [akka.tcp://ClusterSystem@127.0.0.1:2551] - Marked address [akka.tcp://ClusterSystem@127.0.0.1:2551] as [Leaving][0m
[0m[[0minfo[0m] [0m[INFO] [11/10/2017 21:47:32.248] [ClusterSystem-akka.actor.default-dispatcher-20] [akka://ClusterSystem/deadLetters] Message [akka.cluster.GossipEnvelope] from Actor[akka://ClusterSystem/system/cluster/core/daemon#-831714733] to Actor[akka://ClusterSystem/deadLetters] was not delivered. [8] dead letters encountered. This logging can be turned off or adjusted with configuration settings 'akka.log-dead-letters' and 'akka.log-dead-letters-during-shutdown'.[0m
